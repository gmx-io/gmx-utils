{"version":3,"sources":["../../../../scripts/prebuild/prebuildMarketValuesKeys.ts"],"names":[],"mappings":";;;;;;AAOO,SAAS,yBAAyB,SAAA,EAAmB;AAC1D,EAAA,MAAM,eAAA,GAAkB,OAAA,CAAQ,OAAO,CAAA,CAAE,MAAA;AAAA,IACvC,CAAC,SAAA,EAAW,CAAC,OAAA,EAAS,OAAO,CAAA,KAAM;AACjC,MAAA,MAAM,YAAA,GAAe,OAAA,CAAQ,OAAO,CAAA,CAAE,MAAA;AAAA,QACpC,CAAC,UAAA,EAAY,CAAC,aAAA,EAAe,MAAM,CAAA,KAAM;AACvC,UAAA,MAAM,UAAA,GAAa,qBAAqB,MAAM,CAAA;AAE9C,UAAA,UAAA,CAAW,aAAa,CAAA,GAAI,UAAA;AAE5B,UAAA,OAAO,UAAA;AAAA,QACT,CAAA;AAAA,QACA;AAAC,OACH;AAEA,MAAA,SAAA,CAAU,OAAO,CAAA,GAAI,YAAA;AAErB,MAAA,OAAO,SAAA;AAAA,IACT,CAAA;AAAA,IACA;AAAC,GACH;AAEA,EAAA,EAAA,CAAG,SAAA,CAAU,SAAA,EAAW,EAAE,SAAA,EAAW,MAAM,CAAA;AAC3C,EAAA,EAAA,CAAG,aAAA;AAAA,IACD,OAAA,CAAQ,WAAW,6BAA6B,CAAA;AAAA,IAChD,IAAA,CAAK,SAAA,CAAU,eAAA,EAAiB,IAAA,EAAM,CAAC;AAAA,GACzC;AAEA,EAAA,OAAO,eAAA;AACT","file":"prebuildMarketValuesKeys.js","sourcesContent":["import fs from \"fs\";\nimport entries from \"lodash/entries\";\nimport { resolve } from \"path\";\n\nimport { MARKETS } from \"../../src/configs/markets\";\nimport { hashMarketValuesKeys } from \"./marketKeysAndConfigs\";\n\nexport function prebuildMarketValuesKeys(outputDir: string) {\n  const chainMarketKeys = entries(MARKETS).reduce(\n    (chainsAcc, [chainId, markets]) => {\n      const chainMarkets = entries(markets).reduce(\n        (marketsAcc, [marketAddress, market]) => {\n          const marketKeys = hashMarketValuesKeys(market);\n\n          marketsAcc[marketAddress] = marketKeys;\n\n          return marketsAcc;\n        },\n        {}\n      );\n\n      chainsAcc[chainId] = chainMarkets;\n\n      return chainsAcc;\n    },\n    {}\n  );\n\n  fs.mkdirSync(outputDir, { recursive: true });\n  fs.writeFileSync(\n    resolve(outputDir, \"hashedMarketValuesKeys.json\"),\n    JSON.stringify(chainMarketKeys, null, 2)\n  );\n\n  return chainMarketKeys;\n}\n"]}