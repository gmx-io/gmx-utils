{"version":3,"sources":["../../../../../../src/domain/markets/__tests__/mock.ts"],"names":[],"mappings":"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","file":"mock.js","sourcesContent":["import { zeroAddress } from \"viem\";\n\nimport { MarketInfo, MarketsData, MarketsInfoData } from \"domain/markets/types\";\nimport { getMarketFullName } from \"domain/markets/utils\";\nimport { usdToToken } from \"domain/tokens/__tests__/mock\";\nimport { TokensData } from \"domain/tokens/types\";\nimport { getTokenData } from \"domain/tokens/utils\";\nimport { USD_DECIMALS } from \"lib/numbers\";\nimport { expandDecimals } from \"lib/numbers\";\n\nexport function mockMarketKeys() {\n  return [\n    \"AVAX-AVAX-USDC\",\n    \"ETH-ETH-USDC\",\n    \"ETH-ETH-DAI\",\n    \"SOL-ETH-USDC\",\n    \"BTC-BTC-DAI\",\n    \"SPOT-USDC-DAI\",\n    \"SPOT-DAI-USDC\",\n    \"ETH-USDC-USDC\",\n    \"TBTC-TBTC-TBTC\",\n    \"TETH_A-TETH_A-TETH_B\",\n    \"TEST_B-TEST_B-TEST_A\",\n    \"TEST_C-TEST_C-TEST_A\",\n  ];\n}\n\nexport function mockMarketsData(marketKeys: string[]): MarketsData {\n  return marketKeys.reduce((acc, key) => {\n    const [indexTokenAddress, longTokenAddress, shortTokenAddress] =\n      key.split(\"-\");\n\n    acc[key] = {\n      marketTokenAddress: key,\n      indexTokenAddress,\n      longTokenAddress,\n      shortTokenAddress,\n      isSameCollaterals: longTokenAddress === shortTokenAddress,\n      isSpotOnly: indexTokenAddress === \"SPOT\",\n      data: \"\",\n      name: \"Test Market\",\n    };\n\n    return acc;\n  }, {} as MarketsData);\n}\n\nexport function mockMarketsInfoData(\n  tokensData: TokensData,\n  marketKeys: string[],\n  overrides: { [marketKey: string]: Partial<MarketInfo> } = {}\n): MarketsInfoData {\n  return marketKeys.reduce((acc, key) => {\n    const [indexTokenAddress, longTokenAddress, shortTokenAddress] =\n      key.split(\"-\");\n\n    const indexToken = getTokenData(tokensData, indexTokenAddress)!;\n    const longToken = getTokenData(tokensData, longTokenAddress)!;\n    const shortToken = getTokenData(tokensData, shortTokenAddress)!;\n\n    const isSpotOnly = indexTokenAddress === \"SPOT\";\n\n    acc[key] = {\n      isDisabled: false,\n\n      marketTokenAddress: key,\n      indexTokenAddress,\n      longTokenAddress,\n      shortTokenAddress,\n\n      isSameCollaterals: longTokenAddress === shortTokenAddress,\n      isSpotOnly,\n\n      name: getMarketFullName({\n        longToken,\n        shortToken,\n        indexToken,\n        isSpotOnly,\n      }),\n\n      longToken,\n      shortToken,\n      indexToken,\n\n      longPoolAmount: usdToToken(1000, longToken),\n      shortPoolAmount: usdToToken(1000, shortToken),\n\n      maxLongPoolAmount: usdToToken(10000, longToken),\n      maxShortPoolAmount: usdToToken(10000, shortToken),\n      maxLongPoolUsdForDeposit: usdToToken(10000, longToken),\n      maxShortPoolUsdForDeposit: usdToToken(10000, shortToken),\n\n      poolValueMax: expandDecimals(2000, USD_DECIMALS),\n      poolValueMin: expandDecimals(2000, USD_DECIMALS),\n\n      reserveFactorLong: expandDecimals(5, 29),\n      reserveFactorShort: expandDecimals(5, 29),\n\n      openInterestReserveFactorLong: expandDecimals(5, 29),\n      openInterestReserveFactorShort: expandDecimals(5, 29),\n\n      maxOpenInterestLong: expandDecimals(5, 29),\n      maxOpenInterestShort: expandDecimals(5, 29),\n\n      positionImpactPoolAmount: usdToToken(1000, indexToken),\n      positionImpactPoolDistributionRate: 0n,\n      minPositionImpactPoolAmount: 0n,\n\n      swapImpactPoolAmountLong: usdToToken(1000, longToken),\n      swapImpactPoolAmountShort: usdToToken(1000, shortToken),\n\n      positionFeeFactorForBalanceWasImproved: expandDecimals(5, 26),\n      positionFeeFactorForBalanceWasNotImproved: expandDecimals(5, 26),\n      positionImpactFactorPositive: expandDecimals(2, 23),\n      positionImpactFactorNegative: expandDecimals(1, 23),\n      maxPositionImpactFactorPositive: expandDecimals(2, 23),\n      maxPositionImpactFactorNegative: expandDecimals(1, 23),\n      maxPositionImpactFactorForLiquidations: expandDecimals(1, 23),\n      maxLendableImpactFactor: expandDecimals(1, 23),\n      maxLendableImpactFactorForWithdrawals: expandDecimals(1, 23),\n      maxLendableImpactUsd: expandDecimals(1, 23),\n      lentPositionImpactPoolAmount: expandDecimals(1, 23),\n      positionImpactExponentFactorPositive: expandDecimals(2, 30),\n      positionImpactExponentFactorNegative: expandDecimals(2, 30),\n      useOpenInterestInTokensForBalance: true,\n\n      swapFeeFactorForBalanceWasImproved: expandDecimals(2, 27),\n      swapFeeFactorForBalanceWasNotImproved: expandDecimals(2, 27),\n\n      atomicSwapFeeFactor: expandDecimals(2, 27),\n\n      swapImpactFactorPositive: expandDecimals(2, 23),\n      swapImpactFactorNegative: expandDecimals(1, 23),\n      swapImpactExponentFactor: expandDecimals(2, 30),\n\n      borrowingFactorPerSecondForLongs: 0n,\n      borrowingFactorPerSecondForShorts: 0n,\n\n      borrowingExponentFactorLong: 0n,\n      borrowingExponentFactorShort: 0n,\n      fundingFactor: 0n,\n      fundingExponentFactor: 0n,\n      fundingIncreaseFactorPerSecond: 0n,\n      fundingDecreaseFactorPerSecond: 0n,\n      maxFundingFactorPerSecond: 0n,\n      minFundingFactorPerSecond: 0n,\n      thresholdForDecreaseFunding: 0n,\n      thresholdForStableFunding: 0n,\n\n      totalBorrowingFees: 0n,\n      minCollateralFactor: 0n,\n      minCollateralFactorForLiquidation: 0n,\n\n      minCollateralFactorForOpenInterestLong: 0n,\n      minCollateralFactorForOpenInterestShort: 0n,\n\n      borrowingFactorLong: 0n,\n      borrowingFactorShort: 0n,\n\n      fundingFactorPerSecond: 0n,\n      longsPayShorts: false,\n\n      longInterestUsd: expandDecimals(500, USD_DECIMALS),\n      shortInterestUsd: expandDecimals(500, USD_DECIMALS),\n      longInterestInTokens: usdToToken(500, indexToken),\n      shortInterestInTokens: usdToToken(500, indexToken),\n\n      maxPnlFactorForTradersLong: expandDecimals(1, 30),\n      maxPnlFactorForTradersShort: expandDecimals(1, 30),\n\n      data: \"\",\n\n      virtualPoolAmountForLongToken: 0n,\n      virtualPoolAmountForShortToken: 0n,\n      virtualInventoryForPositions: 0n,\n\n      virtualMarketId: zeroAddress,\n      virtualLongTokenId: zeroAddress,\n      virtualShortTokenId: zeroAddress,\n\n      ...(overrides[key] || {}),\n    };\n\n    return acc;\n  }, {} as MarketsInfoData);\n}\n"]}