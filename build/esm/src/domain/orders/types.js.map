{"version":3,"sources":["../../../../../src/domain/orders/types.ts"],"names":["OrderType"],"mappings":";AAUO,IAAK,SAAA,qBAAAA,UAAAA,KAAL;AAEL,EAAAA,UAAAA,CAAAA,UAAAA,CAAA,gBAAa,CAAA,CAAA,GAAb,YAAA;AAEA,EAAAA,UAAAA,CAAAA,UAAAA,CAAA,eAAY,CAAA,CAAA,GAAZ,WAAA;AAGA,EAAAA,UAAAA,CAAAA,UAAAA,CAAA,oBAAiB,CAAA,CAAA,GAAjB,gBAAA;AAEA,EAAAA,UAAAA,CAAAA,UAAAA,CAAA,mBAAgB,CAAA,CAAA,GAAhB,eAAA;AAGA,EAAAA,UAAAA,CAAAA,UAAAA,CAAA,oBAAiB,CAAA,CAAA,GAAjB,gBAAA;AAEA,EAAAA,UAAAA,CAAAA,UAAAA,CAAA,mBAAgB,CAAA,CAAA,GAAhB,eAAA;AAEA,EAAAA,UAAAA,CAAAA,UAAAA,CAAA,sBAAmB,CAAA,CAAA,GAAnB,kBAAA;AAEA,EAAAA,UAAAA,CAAAA,UAAAA,CAAA,iBAAc,CAAA,CAAA,GAAd,aAAA;AAEA,EAAAA,UAAAA,CAAAA,UAAAA,CAAA,kBAAe,CAAA,CAAA,GAAf,cAAA;AApBU,EAAA,OAAAA,UAAAA;AAAA,CAAA,EAAA,SAAA,IAAA,EAAA","file":"types.js","sourcesContent":["import { DecreasePositionSwapType } from \"domain/decrease/types\";\nimport { MarketInfo } from \"domain/markets/types\";\nimport { TriggerThresholdType } from \"domain/pricing/types\";\nimport {\n  SwapPathStats,\n  TokensRatio,\n  TokensRatioAndSlippage,\n} from \"domain/swap/types\";\nimport { TokenData } from \"domain/tokens/types\";\n\nexport enum OrderType {\n  // the order will be cancelled if the minOutputAmount cannot be fulfilled\n  MarketSwap = 0,\n  // @dev LimitSwap: swap token A to token B if the minOutputAmount can be fulfilled\n  LimitSwap = 1,\n  // @dev MarketIncrease: increase position at the current market price\n  // the order will be cancelled if the position cannot be increased at the acceptablePrice\n  MarketIncrease = 2,\n  // @dev LimitIncrease: increase position if the triggerPrice is reached and the acceptablePrice can be fulfilled\n  LimitIncrease = 3,\n  // @dev MarketDecrease: decrease position at the curent market price\n  // the order will be cancelled if the position cannot be decreased at the acceptablePrice\n  MarketDecrease = 4,\n  // @dev LimitDecrease: decrease position if the triggerPrice is reached and the acceptablePrice can be fulfilled\n  LimitDecrease = 5,\n  // @dev StopLossDecrease: decrease position if the triggerPrice is reached and the acceptablePrice can be fulfilled\n  StopLossDecrease = 6,\n  // @dev Liquidation: allows liquidation of positions if the criteria for liquidation are met\n  Liquidation = 7,\n  // @dev StopIncrease: increase position if the triggerPrice is reached and the acceptablePrice can be fulfilled\n  StopIncrease = 8,\n}\n\nexport type SwapOrderType = OrderType.MarketSwap | OrderType.LimitSwap;\n\nexport type IncreaseOrderType =\n  | OrderType.MarketIncrease\n  | OrderType.LimitIncrease\n  | OrderType.StopIncrease;\nexport type DecreaseOrderType =\n  | OrderType.MarketDecrease\n  | OrderType.LimitDecrease\n  | OrderType.StopLossDecrease;\n\nexport type Order = {\n  key: string;\n  account: string;\n  callbackContract: string;\n  initialCollateralTokenAddress: string;\n  marketAddress: string;\n  decreasePositionSwapType: DecreasePositionSwapType;\n  receiver: string;\n  swapPath: string[];\n  contractAcceptablePrice: bigint;\n  contractTriggerPrice: bigint;\n  callbackGasLimit: bigint;\n  executionFee: bigint;\n  initialCollateralDeltaAmount: bigint;\n  minOutputAmount: bigint;\n  sizeDeltaUsd: bigint;\n  updatedAtTime: bigint;\n  isFrozen: boolean;\n  isLong: boolean;\n  orderType: OrderType;\n  shouldUnwrapNativeToken: boolean;\n  autoCancel: boolean;\n  data: string[];\n  uiFeeReceiver: string;\n  validFromTime: bigint;\n  title?: string;\n};\n\nexport type SwapOrderInfo = Order & {\n  isSwap: true;\n  isTwap: false;\n  swapPathStats?: SwapPathStats;\n  triggerRatio?: TokensRatio | TokensRatioAndSlippage;\n  // Store trigger ratio value\n  triggerPrice: bigint;\n  initialCollateralToken: TokenData;\n  targetCollateralToken: TokenData;\n};\n\nexport type PositionOrderInfo = Order & {\n  isSwap: false;\n  isTwap: false;\n  marketInfo: MarketInfo;\n  swapPathStats?: SwapPathStats;\n  indexToken: TokenData;\n  initialCollateralToken: TokenData;\n  targetCollateralToken: TokenData;\n  acceptablePrice: bigint;\n  triggerPrice: bigint;\n  triggerThresholdType: TriggerThresholdType | undefined;\n};\n\nexport type TwapOrderInfo<\n  T extends PositionOrderInfo | SwapOrderInfo =\n    | PositionOrderInfo\n    | SwapOrderInfo\n> = Omit<T, \"isTwap\"> & {\n  isSwap: T extends SwapOrderInfo ? true : false;\n} & TwapOrderParams<T>;\n\nexport type OrderInfo = SwapOrderInfo | PositionOrderInfo | TwapOrderInfo;\n\nexport type OrdersData = {\n  [orderKey: string]: Order;\n};\n\nexport type OrdersInfoData = {\n  [orderKey: string]: OrderInfo;\n};\n\ntype SingleOrderParams = {\n  key: string;\n  isTwap: false;\n  orderType: OrderType;\n};\n\ntype TwapOrderParams<T extends SingleOrderParams = SingleOrderParams> = {\n  key: string;\n  isTwap: true;\n  orders: T[];\n  orderType: OrderType;\n  twapId: string;\n  numberOfParts: number;\n};\n\nexport type OrderParams = SingleOrderParams | TwapOrderParams;\n\nexport type GroupPrefix = \"sl\" | \"tp\" | \"limit\";\n"]}