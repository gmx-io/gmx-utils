{"version":3,"sources":["../../../../../src/domain/pricing/utils.ts"],"names":[],"mappings":";AAIO,SAAS,aAAa,CAAA,EAI1B;AACD,EAAA,MAAM,EAAE,MAAA,EAAQ,UAAA,EAAY,MAAA,EAAO,GAAI,CAAA;AAEvC,EAAA,MAAM,iBAAA,GAAoB,oBAAA,CAAqB,UAAA,EAAY,MAAM,CAAA;AAEjE,EAAA,OAAO,iBAAA,GAAoB,MAAA,CAAO,QAAA,GAAW,MAAA,CAAO,QAAA;AACtD;AAEO,SAAS,oBAAA,CAAqB,YAAqB,MAAA,EAAiB;AACzE,EAAA,OAAO,UAAA,GAAa,SAAS,CAAC,MAAA;AAChC;AAEO,SAAS,qBAAA,CAAsB,WAAsB,MAAA,EAAiB;AAE3E,EAAA,IAAI,SAAA,KAAA,CAAA,sBAAuC;AACzC,IAAA,OAAO,MAAA,GAAA,GAAA,eAAA,GAAA;AAAA,EACT;AAGA,EAAA,IAAI,SAAA,KAAA,CAAA,qBAAsC;AACxC,IAAA,OAAO,MAAA,GAAA,GAAA,eAAA,GAAA;AAAA,EACT;AAGA,EAAA,IAAI,SAAA,KAAA,CAAA,sBAAuC;AACzC,IAAA,OAAO,MAAA,GAAA,GAAA,eAAA,GAAA;AAAA,EACT;AAGA,EAAA,IAAI,SAAA,KAAA,CAAA,yBAA0C;AAC5C,IAAA,OAAO,MAAA,GAAA,GAAA,eAAA,GAAA;AAAA,EACT;AAEA,EAAA,OAAO,MAAA;AACT","file":"utils.js","sourcesContent":["import { OrderType } from \"domain/orders/types\";\nimport { TriggerThresholdType } from \"domain/pricing/types\";\nimport { TokenPrices } from \"domain/tokens/types\";\n\nexport function getMarkPrice(p: {\n  prices: TokenPrices;\n  isIncrease: boolean;\n  isLong: boolean;\n}) {\n  const { prices, isIncrease, isLong } = p;\n\n  const shouldUseMaxPrice = getShouldUseMaxPrice(isIncrease, isLong);\n\n  return shouldUseMaxPrice ? prices.maxPrice : prices.minPrice;\n}\n\nexport function getShouldUseMaxPrice(isIncrease: boolean, isLong: boolean) {\n  return isIncrease ? isLong : !isLong;\n}\n\nexport function getOrderThresholdType(orderType: OrderType, isLong: boolean) {\n  // limit increase order\n  if (orderType === OrderType.LimitIncrease) {\n    return isLong ? TriggerThresholdType.Below : TriggerThresholdType.Above;\n  }\n\n  // stop market order\n  if (orderType === OrderType.StopIncrease) {\n    return isLong ? TriggerThresholdType.Above : TriggerThresholdType.Below;\n  }\n\n  // take profit order\n  if (orderType === OrderType.LimitDecrease) {\n    return isLong ? TriggerThresholdType.Above : TriggerThresholdType.Below;\n  }\n\n  // stop loss order\n  if (orderType === OrderType.StopLossDecrease) {\n    return isLong ? TriggerThresholdType.Below : TriggerThresholdType.Above;\n  }\n\n  return undefined;\n}\n"]}