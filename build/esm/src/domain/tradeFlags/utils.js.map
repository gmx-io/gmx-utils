{"version":3,"sources":["../../../../../src/domain/tradeFlags/utils.ts"],"names":[],"mappings":"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","file":"utils.js","sourcesContent":["import {\n  getFeeItem,\n  getTotalFeeItem,\n  getTotalSwapVolumeFromSwapStats,\n} from \"domain/executionFee\";\nimport { ExternalSwapQuote } from \"domain/externalSwap/types\";\nimport { ExternalSwapFeeItem, SwapFeeItem, TradeFees } from \"domain/fees/types\";\nimport { OrderInfo } from \"domain/orders/types\";\nimport {\n  isLimitOrderType,\n  isMarketOrderType,\n  isSwapOrderType,\n} from \"domain/orders/utils\";\nimport { SwapStats } from \"domain/swap/types\";\nimport { bigMath } from \"lib/bigmath\";\nimport {\n  BASIS_POINTS_DIVISOR_BIGINT,\n  PRECISION,\n  applyFactor,\n  getBasisPoints,\n} from \"lib/numbers\";\n\nimport { TradeFlags, TradeMode, TradeType } from \"./types\";\n\nexport const getTradeFlags = (\n  tradeType: TradeType,\n  tradeMode: TradeMode\n): TradeFlags => {\n  const isLong = tradeType === TradeType.Long;\n  const isShort = tradeType === TradeType.Short;\n  const isSwap = tradeType === TradeType.Swap;\n  const isPosition = isLong || isShort;\n  const isMarket = tradeMode === TradeMode.Market;\n  const isLimit =\n    tradeMode === TradeMode.Limit || tradeMode === TradeMode.StopMarket;\n  const isTrigger = tradeMode === TradeMode.Trigger;\n  const isTwap = tradeMode === TradeMode.Twap;\n  const isIncrease = isPosition && (isMarket || isLimit || isTwap);\n\n  const tradeFlags: TradeFlags = {\n    isLong,\n    isShort,\n    isSwap,\n    isPosition,\n    isIncrease,\n    isMarket,\n    isLimit,\n    isTrigger,\n    isTwap,\n  };\n\n  return tradeFlags;\n};\n\nexport function getTradeFlagsForOrder(order: OrderInfo): TradeFlags {\n  let tradeType: TradeType;\n  let tradeMode: TradeMode;\n\n  if (isMarketOrderType(order.orderType)) {\n    tradeMode = TradeMode.Market;\n  } else if (isLimitOrderType(order.orderType)) {\n    tradeMode = TradeMode.Limit;\n  } else {\n    tradeMode = TradeMode.Trigger;\n  }\n\n  if (isSwapOrderType(order.orderType)) {\n    tradeType = TradeType.Swap;\n  } else if (order.isLong) {\n    tradeType = TradeType.Long;\n  } else {\n    tradeType = TradeType.Short;\n  }\n\n  return getTradeFlags(tradeType, tradeMode);\n}\n\nexport function getTradeFlagsForCollateralEdit(\n  isLong: boolean | undefined,\n  isIncrease: boolean\n): TradeFlags {\n  return {\n    isMarket: true,\n    isIncrease,\n    isLimit: false,\n    isLong: Boolean(isLong),\n    isShort: !isLong,\n    isSwap: false,\n    isPosition: true,\n    isTrigger: false,\n    isTwap: false,\n  };\n}\n\nexport function getPositionSellerTradeFlags(\n  isLong: boolean | undefined,\n  tradeMode: TradeMode\n): TradeFlags {\n  return {\n    isMarket: tradeMode === TradeMode.Market,\n    isIncrease: false,\n    isLimit: false,\n    isLong: Boolean(isLong),\n    isShort: !isLong,\n    isSwap: false,\n    isPosition: true,\n    isTrigger: tradeMode === TradeMode.Trigger,\n    isTwap: tradeMode === TradeMode.Twap,\n  };\n}\n\nexport function getTradeFees(p: {\n  initialCollateralUsd: bigint;\n  sizeInUsd: bigint;\n  sizeDeltaUsd: bigint;\n  collateralDeltaUsd: bigint;\n  swapSteps: SwapStats[];\n  externalSwapQuote: ExternalSwapQuote | undefined;\n  positionFeeUsd: bigint;\n  swapPriceImpactDeltaUsd: bigint;\n  increasePositionPriceImpactDeltaUsd: bigint;\n  totalPendingImpactDeltaUsd: bigint;\n  proportionalPendingImpactDeltaUsd: bigint;\n  decreasePositionPriceImpactDeltaUsd: bigint;\n  priceImpactDiffUsd: bigint;\n  borrowingFeeUsd: bigint;\n  fundingFeeUsd: bigint;\n  feeDiscountUsd: bigint;\n  swapProfitFeeUsd: bigint;\n  uiFeeFactor: bigint;\n  type: \"increase\" | \"decrease\" | \"swap\";\n}): TradeFees {\n  const {\n    initialCollateralUsd,\n    sizeInUsd,\n    sizeDeltaUsd,\n    collateralDeltaUsd,\n    swapSteps,\n    positionFeeUsd,\n    swapPriceImpactDeltaUsd,\n    increasePositionPriceImpactDeltaUsd,\n    totalPendingImpactDeltaUsd,\n    externalSwapQuote,\n    priceImpactDiffUsd,\n    borrowingFeeUsd,\n    fundingFeeUsd,\n    feeDiscountUsd,\n    swapProfitFeeUsd,\n    proportionalPendingImpactDeltaUsd,\n    decreasePositionPriceImpactDeltaUsd,\n    uiFeeFactor,\n    type,\n  } = p;\n\n  const swapFees: SwapFeeItem[] | undefined =\n    !externalSwapQuote && initialCollateralUsd > 0\n      ? swapSteps.map((step) => ({\n          tokenInAddress: step.tokenInAddress,\n          tokenOutAddress: step.tokenOutAddress,\n          marketAddress: step.marketAddress,\n          deltaUsd: step.swapFeeUsd * -1n,\n          bps:\n            step.usdIn != 0n\n              ? getBasisPoints(step.swapFeeUsd * -1n, step.usdIn)\n              : 0n,\n          precisePercentage:\n            step.usdIn != 0n\n              ? bigMath.mulDiv(step.swapFeeUsd * -1n, PRECISION, step.usdIn)\n              : 0n,\n        }))\n      : undefined;\n\n  const externalSwapFee: ExternalSwapFeeItem | undefined =\n    initialCollateralUsd > 0 && externalSwapQuote\n      ? {\n          aggregator: externalSwapQuote.aggregator,\n          tokenInAddress: externalSwapQuote.inTokenAddress,\n          tokenOutAddress: externalSwapQuote.outTokenAddress,\n          deltaUsd: externalSwapQuote.feesUsd * -1n,\n          bps:\n            externalSwapQuote.usdIn != 0n\n              ? getBasisPoints(\n                  externalSwapQuote.feesUsd * -1n,\n                  externalSwapQuote.usdIn\n                )\n              : 0n,\n          precisePercentage:\n            externalSwapQuote.usdIn != 0n\n              ? bigMath.mulDiv(\n                  externalSwapQuote.feesUsd * -1n,\n                  PRECISION,\n                  externalSwapQuote.usdIn\n                )\n              : 0n,\n        }\n      : undefined;\n\n  const totalSwapVolumeUsd = getTotalSwapVolumeFromSwapStats(swapSteps);\n  const uiFeeUsd = applyFactor(sizeDeltaUsd, uiFeeFactor);\n  const uiSwapFeeUsd = applyFactor(totalSwapVolumeUsd, uiFeeFactor);\n\n  const uiSwapFee = getFeeItem(uiSwapFeeUsd * -1n, totalSwapVolumeUsd, {\n    shouldRoundUp: true,\n  });\n  const uiFee = getFeeItem(uiFeeUsd * -1n, sizeDeltaUsd, {\n    shouldRoundUp: true,\n  });\n\n  const swapProfitFee = getFeeItem(\n    swapProfitFeeUsd * -1n,\n    initialCollateralUsd\n  );\n\n  const swapPriceImpact = !externalSwapQuote\n    ? getFeeItem(swapPriceImpactDeltaUsd, initialCollateralUsd)\n    : undefined;\n\n  const positionFeeBeforeDiscount = getFeeItem(\n    (positionFeeUsd + feeDiscountUsd) * -1n,\n    sizeDeltaUsd\n  );\n  const positionFeeAfterDiscount = getFeeItem(\n    positionFeeUsd * -1n,\n    sizeDeltaUsd\n  );\n\n  const borrowFee = getFeeItem(borrowingFeeUsd * -1n, initialCollateralUsd);\n\n  const fundingFee = getFeeItem(fundingFeeUsd * -1n, initialCollateralUsd);\n\n  const increasePositionPriceImpact = getFeeItem(\n    increasePositionPriceImpactDeltaUsd,\n    sizeDeltaUsd\n  );\n  const decreasePositionPriceImpact = getFeeItem(\n    decreasePositionPriceImpactDeltaUsd,\n    sizeDeltaUsd\n  );\n\n  const proportionalPendingImpact = getFeeItem(\n    proportionalPendingImpactDeltaUsd,\n    sizeDeltaUsd\n  );\n\n  const totalPendingImpact = getFeeItem(\n    totalPendingImpactDeltaUsd,\n    sizeDeltaUsd\n  );\n  const priceImpactDiff = getFeeItem(priceImpactDiffUsd, sizeDeltaUsd);\n\n  const positionNetPriceImpact = getTotalFeeItem([\n    type === \"increase\" ? increasePositionPriceImpact : totalPendingImpact,\n    priceImpactDiff,\n  ]);\n\n  let collateralDeltaBasis;\n  if (type === \"increase\") {\n    collateralDeltaBasis = collateralDeltaUsd;\n  } else {\n    const sizeDeltaBps =\n      sizeInUsd !== 0n ? getBasisPoints(sizeDeltaUsd, sizeInUsd) : 1n;\n    const proportionalCollateralDeltaUsd =\n      initialCollateralUsd !== undefined\n        ? (initialCollateralUsd * sizeDeltaBps) / BASIS_POINTS_DIVISOR_BIGINT\n        : 0n;\n\n    collateralDeltaBasis = proportionalCollateralDeltaUsd;\n  }\n\n  const positionCollateralPriceImpact = getFeeItem(\n    type === \"increase\"\n      ? increasePositionPriceImpactDeltaUsd\n      : totalPendingImpactDeltaUsd,\n    bigMath.abs(collateralDeltaBasis)\n  );\n\n  const collateralPriceImpactDiff = getFeeItem(\n    priceImpactDiffUsd,\n    collateralDeltaBasis\n  );\n  const collateralNetPriceImpact = getTotalFeeItem([\n    positionCollateralPriceImpact,\n    collateralPriceImpactDiff,\n  ]);\n\n  const totalFees = getTotalFeeItem([\n    ...(swapFees || []),\n    externalSwapFee,\n    swapProfitFee,\n    swapPriceImpact,\n    type === \"decrease\" ? totalPendingImpact : undefined,\n    type === \"decrease\" ? priceImpactDiff : undefined,\n    positionFeeAfterDiscount,\n    borrowFee,\n    fundingFee,\n    uiFee,\n    uiSwapFee,\n  ]);\n\n  return {\n    totalFees,\n    payTotalFees: totalFees,\n    swapFees,\n    swapProfitFee,\n    swapPriceImpact,\n    positionFee: positionFeeBeforeDiscount,\n    priceImpactDiff,\n    positionCollateralPriceImpact,\n    proportionalPendingImpact,\n    increasePositionPriceImpact,\n    decreasePositionPriceImpact,\n    totalPendingImpact,\n    collateralPriceImpactDiff,\n    positionNetPriceImpact,\n    collateralNetPriceImpact,\n    borrowFee,\n    fundingFee,\n    feeDiscountUsd,\n    uiFee,\n    uiSwapFee,\n    externalSwapFee,\n  };\n}\n"]}