{"version":3,"sources":["../../../../../src/lib/numbers/index.ts"],"names":["symbol"],"mappings":"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","file":"index.js","sourcesContent":["import { formatUnits, parseUnits } from \"viem\";\n\nimport { bigMath } from \"../bigmath\";\n\nexport type Numeric = number | bigint;\nexport type BigNumberish = string | Numeric;\n\nexport const USD_DECIMALS = 30;\n\nexport const BASIS_POINTS_DIVISOR = 10000;\nexport const BASIS_POINTS_DIVISOR_BIGINT = 10000n;\nexport const BASIS_POINTS_DECIMALS = 4;\n\nexport const PRECISION_DECIMALS = 30;\nexport const PRECISION = expandDecimals(1, PRECISION_DECIMALS);\n\nexport const BN_ZERO = 0n;\nexport const BN_ONE = 1n;\nexport const BN_NEGATIVE_ONE = -1n;\n\nexport const MaxUint256 = BigInt(\n  \"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\"\n);\n\nexport const PERCENT_PRECISION_DECIMALS = PRECISION_DECIMALS - 2;\n\nconst MAX_EXCEEDING_THRESHOLD = \"1000000000\";\nconst MIN_EXCEEDING_THRESHOLD = \"0.01\";\n\nexport const TRIGGER_PREFIX_ABOVE = \">\";\nexport const TRIGGER_PREFIX_BELOW = \"<\";\n\ndeclare const __nonZero: unique symbol;\nexport type NonZero<T extends number | bigint> = T & {\n  readonly [__nonZero]: true;\n};\n\nexport function isNonZero<T extends number | bigint>(\n  value: T\n): value is NonZero<T> {\n  return value !== 0 && value !== 0n;\n}\n\nexport function safeDivide<T extends number | bigint>(a: T, b: NonZero<T>): T {\n  return (a / b) as T;\n}\n\nexport function expandDecimals(n: BigNumberish, decimals: number): bigint {\n  return BigInt(n) * 10n ** BigInt(decimals);\n}\n\nexport function basisPointsToFloat(basisPoints: bigint) {\n  return (basisPoints * PRECISION) / BASIS_POINTS_DIVISOR_BIGINT;\n}\n\nexport function getBasisPoints(\n  numerator: bigint,\n  denominator: bigint,\n  shouldRoundUp = false\n) {\n  const result = (numerator * BASIS_POINTS_DIVISOR_BIGINT) / denominator;\n\n  if (shouldRoundUp) {\n    const remainder = (numerator * BASIS_POINTS_DIVISOR_BIGINT) % denominator;\n    if (remainder !== 0n) {\n      return result < 0n ? result - 1n : result + 1n;\n    }\n  }\n\n  return result;\n}\n\nexport function roundUpMagnitudeDivision(a: bigint, b: bigint) {\n  if (a < 0n) {\n    return (a - b + 1n) / b;\n  }\n\n  return (a + b - 1n) / b;\n}\n\nexport function applyFactor(value: bigint, factor: bigint) {\n  return (value * factor) / PRECISION;\n}\n\nexport function numberToBigint(value: number, decimals: number) {\n  const negative = value < 0;\n  if (negative) value *= -1;\n\n  const int = Math.trunc(value);\n  let frac = value - int;\n\n  let res = BigInt(int);\n\n  for (let i = 0; i < decimals; i++) {\n    res *= 10n;\n    if (frac !== 0) {\n      frac *= 10;\n      const fracInt = Math.trunc(frac);\n      res += BigInt(fracInt);\n      frac -= fracInt;\n    }\n  }\n\n  return negative ? -res : res;\n}\n\nexport const trimZeroDecimals = (amount: string) => {\n  if (parseFloat(amount) === parseInt(amount)) {\n    return parseInt(amount).toString();\n  }\n  return amount;\n};\n\nexport function bigintToNumber(value: bigint, decimals: number) {\n  const negative = value < 0;\n  if (negative) value *= -1n;\n  const precision = 10n ** BigInt(decimals);\n  const int = value / precision;\n  const frac = value % precision;\n\n  const num = parseFloat(`${int}.${frac.toString().padStart(decimals, \"0\")}`);\n  return negative ? -num : num;\n}\n\nexport function adjustForDecimals(\n  amount: bigint,\n  divDecimals: number,\n  mulDecimals: number\n) {\n  return (\n    (amount * expandDecimals(1, mulDecimals)) / expandDecimals(1, divDecimals)\n  );\n}\n\nexport function formatUsd(\n  usd?: bigint,\n  opts: {\n    fallbackToZero?: boolean;\n    displayDecimals?: number;\n    maxThreshold?: string | null;\n    minThreshold?: string;\n    displayPlus?: boolean;\n    visualMultiplier?: number;\n  } = {}\n) {\n  const { fallbackToZero = false, displayDecimals = 2 } = opts;\n\n  if (typeof usd !== \"bigint\") {\n    if (fallbackToZero) {\n      usd = 0n;\n    } else {\n      return undefined;\n    }\n  }\n\n  if (opts.visualMultiplier) {\n    usd *= BigInt(opts.visualMultiplier);\n  }\n\n  const defaultMinThreshold =\n    displayDecimals > 1\n      ? \"0.\" + \"0\".repeat(displayDecimals - 1) + \"1\"\n      : undefined;\n\n  const exceedingInfo = getLimitedDisplay(usd, USD_DECIMALS, {\n    maxThreshold: opts.maxThreshold,\n    minThreshold: opts.minThreshold ?? defaultMinThreshold,\n  });\n\n  const maybePlus = opts.displayPlus ? \"+\" : \"\";\n  const sign = usd < 0n ? \"-\" : maybePlus;\n  const symbol = exceedingInfo.symbol ? `${exceedingInfo.symbol}\\u00a0` : \"\";\n  const displayUsd = formatAmount(\n    exceedingInfo.value,\n    USD_DECIMALS,\n    displayDecimals,\n    true\n  );\n  return `${symbol}${sign}$\\u200a${displayUsd}`;\n}\n\nexport function formatBigUsd(\n  amount: bigint,\n  opts: { displayDecimals?: number } = {}\n) {\n  return formatUsd(amount, {\n    maxThreshold: \"9999999999999999999999999\",\n    displayDecimals: opts.displayDecimals ?? 0,\n  });\n}\n\nexport function formatDeltaUsd(\n  deltaUsd?: bigint,\n  percentage?: bigint,\n  opts: { fallbackToZero?: boolean; showPlusForZero?: boolean } = {}\n) {\n  if (typeof deltaUsd !== \"bigint\") {\n    if (opts.fallbackToZero) {\n      return `${formatUsd(0n)} (${formatAmount(0n, 2, 2)}%)`;\n    }\n\n    return undefined;\n  }\n\n  const sign = getPlusOrMinusSymbol(deltaUsd, {\n    showPlusForZero: opts.showPlusForZero,\n  });\n\n  const exceedingInfo = getLimitedDisplay(deltaUsd, USD_DECIMALS);\n  const percentageStr =\n    percentage !== undefined\n      ? ` (${sign}${formatPercentage(bigMath.abs(percentage))})`\n      : \"\";\n  const deltaUsdStr = formatAmount(exceedingInfo.value, USD_DECIMALS, 2, true);\n  const symbol = exceedingInfo.symbol ? `${exceedingInfo.symbol} ` : \"\";\n\n  return `${symbol}${sign}$\\u200a${deltaUsdStr}${percentageStr}`;\n}\n\nexport function formatPercentage(\n  percentage?: bigint,\n  opts: {\n    fallbackToZero?: boolean;\n    signed?: boolean;\n    displayDecimals?: number;\n    bps?: boolean;\n    showPlus?: boolean;\n  } = {}\n) {\n  const {\n    fallbackToZero = false,\n    signed = false,\n    displayDecimals = 2,\n    bps = true,\n    showPlus = true,\n  } = opts;\n\n  if (percentage === undefined) {\n    if (fallbackToZero) {\n      return `${formatAmount(\n        0n,\n        PERCENT_PRECISION_DECIMALS,\n        displayDecimals\n      )}%`;\n    }\n\n    return undefined;\n  }\n\n  const sign = signed ? `${getPlusOrMinusSymbol(percentage)}` : \"\";\n  const displaySign = !showPlus && sign === \"+\" ? \"\" : `${sign}`;\n\n  return `${displaySign}${displaySign ? \"\\u200a\" : \"\"}${formatAmount(\n    bigMath.abs(percentage),\n    bps ? 2 : PERCENT_PRECISION_DECIMALS,\n    displayDecimals\n  )}%`;\n}\n\nexport function formatTokenAmount(\n  amount?: bigint,\n  tokenDecimals?: number,\n  symbol?: string,\n  opts: {\n    showAllSignificant?: boolean;\n    displayDecimals?: number;\n    fallbackToZero?: boolean;\n    useCommas?: boolean;\n    minThreshold?: string;\n    maxThreshold?: string;\n    displayPlus?: boolean;\n    isStable?: boolean;\n  } = {}\n) {\n  const {\n    showAllSignificant = false,\n    fallbackToZero = false,\n    useCommas = false,\n    minThreshold = \"0\",\n    maxThreshold,\n  } = opts;\n\n  const displayDecimals = opts.displayDecimals ?? (opts.isStable ? 2 : 4);\n\n  const symbolStr = symbol ? ` ${symbol}` : \"\";\n\n  if (typeof amount !== \"bigint\" || !tokenDecimals) {\n    if (fallbackToZero) {\n      amount = 0n;\n      tokenDecimals = displayDecimals;\n    } else {\n      return undefined;\n    }\n  }\n\n  let amountStr: string;\n\n  const maybePlus = opts.displayPlus ? \"+\" : \"\";\n  const sign = amount < 0n ? \"-\" : maybePlus;\n\n  if (showAllSignificant) {\n    amountStr = formatAmountFree(amount, tokenDecimals, tokenDecimals);\n  } else {\n    const exceedingInfo = getLimitedDisplay(amount, tokenDecimals, {\n      maxThreshold,\n      minThreshold,\n    });\n    const symbol = exceedingInfo.symbol ? `${exceedingInfo.symbol} ` : \"\";\n    amountStr = `${symbol}${sign}${formatAmount(\n      exceedingInfo.value,\n      tokenDecimals,\n      displayDecimals,\n      useCommas,\n      undefined\n    )}`;\n  }\n\n  return `${amountStr}${symbolStr}`;\n}\n\nexport function formatTokenAmountWithUsd(\n  tokenAmount?: bigint,\n  usdAmount?: bigint,\n  tokenSymbol?: string,\n  tokenDecimals?: number,\n  opts: {\n    fallbackToZero?: boolean;\n    displayDecimals?: number;\n    displayPlus?: boolean;\n    isStable?: boolean;\n  } = {}\n) {\n  if (\n    typeof tokenAmount !== \"bigint\" ||\n    typeof usdAmount !== \"bigint\" ||\n    !tokenSymbol ||\n    !tokenDecimals\n  ) {\n    if (!opts.fallbackToZero) {\n      return undefined;\n    }\n  }\n\n  const tokenStr = formatTokenAmount(tokenAmount, tokenDecimals, tokenSymbol, {\n    ...opts,\n    useCommas: true,\n    displayPlus: opts.displayPlus,\n  });\n\n  const usdStr = formatUsd(usdAmount, {\n    fallbackToZero: opts.fallbackToZero,\n    displayPlus: opts.displayPlus,\n  });\n\n  return `${tokenStr} (${usdStr})`;\n}\n\n/**\n *\n * @param opts.signed - Default `true`. whether to display a `+` or `-` sign for all non-zero values.\n */\nexport function formatRatePercentage(\n  rate?: bigint,\n  opts?: { displayDecimals?: number; signed?: boolean }\n) {\n  if (typeof rate !== \"bigint\") {\n    return \"-\";\n  }\n\n  const signed = opts?.signed ?? true;\n  const plurOrMinus = signed ? getPlusOrMinusSymbol(rate) : \"\";\n\n  const amount = bigMath.abs(rate * 100n);\n  return `${plurOrMinus}\\u200a${formatAmount(\n    amount,\n    30,\n    opts?.displayDecimals ?? 4\n  )}%`;\n}\n\nexport function formatUsdPrice(\n  price?: bigint,\n  opts: Parameters<typeof formatUsd>[1] = {}\n) {\n  if (price === undefined) {\n    return;\n  }\n\n  if (price < 0n) {\n    return \"NA\";\n  }\n\n  const decimals = calculateDisplayDecimals(\n    price,\n    undefined,\n    opts.visualMultiplier\n  );\n\n  return formatUsd(price, {\n    ...opts,\n    displayDecimals: decimals,\n  });\n}\n\nexport function formatPercentageDisplay(\n  percentage: number,\n  hideThreshold?: number\n) {\n  if (hideThreshold && percentage < hideThreshold) {\n    return \"\";\n  }\n\n  return `${percentage}%`;\n}\n\nexport function formatAmountHuman(\n  amount: BigNumberish | undefined,\n  tokenDecimals: number,\n  showDollar = false,\n  displayDecimals = 1\n) {\n  if (amount === undefined) {\n    return \"...\";\n  }\n\n  let n = Number(formatAmount(amount, tokenDecimals));\n  // For large numbers, we can neglect the decimals to avoid decimals in cases like 9999999.99999\n  if (n >= 1_000_000) {\n    n = Math.round(n);\n  }\n  const isNegative = n < 0;\n  const absN = Math.abs(n);\n  const sign = showDollar ? \"$\\u200a\" : \"\";\n\n  if (absN >= 1_000_000_000) {\n    return `${isNegative ? \"-\" : \"\"}${sign}${(absN / 1_000_000_000).toFixed(\n      displayDecimals\n    )}b`;\n  }\n\n  if (absN >= 1_000_000) {\n    return `${isNegative ? \"-\" : \"\"}${sign}${(absN / 1_000_000).toFixed(\n      displayDecimals\n    )}m`;\n  }\n\n  if (absN >= 1000) {\n    return `${isNegative ? \"-\" : \"\"}${sign}${(absN / 1_000).toFixed(\n      displayDecimals\n    )}k`;\n  }\n\n  return `${isNegative ? \"-\" : \"\"}${sign}${absN.toFixed(displayDecimals)}`;\n}\n\nexport function formatBalanceAmount(\n  amount: bigint,\n  tokenDecimals: number,\n  tokenSymbol?: string,\n  {\n    showZero = false,\n    toExponential = true,\n    isStable = false,\n    signed = false,\n  }: {\n    showZero?: boolean;\n    toExponential?: boolean;\n    isStable?: boolean;\n    signed?: boolean;\n  } = {}\n): string {\n  if (amount === undefined) return \"-\";\n\n  if (amount === 0n) {\n    if (showZero === true) {\n      if (tokenSymbol) {\n        if (isStable) {\n          return `0.00 ${tokenSymbol}`;\n        }\n        return `0.0000 ${tokenSymbol}`;\n      }\n      if (isStable) {\n        return \"0.00\";\n      }\n      return \"0.0000\";\n    }\n\n    return \"-\";\n  }\n\n  const sign = signed || amount < 0n ? getPlusOrMinusSymbol(amount) : \"\";\n  const absAmount = bigMath.abs(amount);\n  const absAmountFloat = bigintToNumber(absAmount, tokenDecimals);\n\n  let value = \"\";\n\n  const baseDecimals = isStable ? 2 : 4;\n  if (absAmountFloat >= 1)\n    value = formatAmount(absAmount, tokenDecimals, baseDecimals, true);\n  else if (absAmountFloat >= 0.1)\n    value = formatAmount(absAmount, tokenDecimals, baseDecimals + 1, true);\n  else if (absAmountFloat >= 0.01)\n    value = formatAmount(absAmount, tokenDecimals, baseDecimals + 2, true);\n  else if (absAmountFloat >= 0.001)\n    value = formatAmount(absAmount, tokenDecimals, baseDecimals + 3, true);\n  else if (absAmountFloat >= 1e-8)\n    value = formatAmount(absAmount, tokenDecimals, 8, true);\n  else {\n    if (toExponential) {\n      value = bigintToNumber(absAmount, tokenDecimals).toExponential(2);\n    } else {\n      value = bigintToNumber(absAmount, tokenDecimals).toFixed(8);\n    }\n  }\n\n  if (tokenSymbol) {\n    // Non-breaking space\n    return `${sign}${value} ${tokenSymbol}`;\n  }\n\n  return `${sign}${value}`;\n}\n\nexport function formatFactor(factor: bigint) {\n  if (factor == 0n) {\n    return \"0\";\n  }\n\n  if (bigMath.abs(factor) > PRECISION * 1000n) {\n    return (factor / PRECISION).toString();\n  }\n\n  const trailingZeroes =\n    bigMath\n      .abs(factor)\n      .toString()\n      .match(/^(.+?)(?<zeroes>0*)$/)?.groups?.zeroes?.length || 0;\n  const factorDecimals = 30 - trailingZeroes;\n  return formatAmount(factor, 30, factorDecimals);\n}\nexport function numberWithCommas(\n  x: BigNumberish,\n  { showDollar = false }: { showDollar?: boolean } = {}\n) {\n  if (x === undefined || x === null) {\n    return \"...\";\n  }\n\n  const parts = x.toString().split(\".\");\n  parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  return `${showDollar ? \"$\\u200a\" : \"\"}${parts.join(\".\")}`;\n}\n\nexport const formatAmount = (\n  amount: BigNumberish | undefined,\n  tokenDecimals: number,\n  displayDecimals?: number,\n  useCommas?: boolean,\n  defaultValue?: string,\n  visualMultiplier?: number\n) => {\n  if (defaultValue === undefined || defaultValue === null) {\n    defaultValue = \"...\";\n  }\n  if (amount === undefined || amount === null || amount === \"\") {\n    return defaultValue;\n  }\n  if (displayDecimals === undefined) {\n    displayDecimals = 4;\n  }\n  const amountBigInt = roundWithDecimals(\n    BigInt(amount) * BigInt(visualMultiplier ?? 1),\n    {\n      displayDecimals,\n      decimals: tokenDecimals,\n    }\n  );\n  let amountStr = formatUnits(amountBigInt, tokenDecimals);\n  amountStr = limitDecimals(amountStr, displayDecimals);\n  if (displayDecimals !== 0) {\n    amountStr = padDecimals(amountStr, displayDecimals);\n  }\n  if (useCommas) {\n    return numberWithCommas(amountStr);\n  }\n  return amountStr;\n};\n\nexport const formatKeyAmount = <T extends {}>(\n  map: T | undefined,\n  key: keyof T,\n  tokenDecimals: number,\n  displayDecimals: number,\n  useCommas?: boolean\n) => {\n  const value = map ? map[key] ?? undefined : undefined;\n  if (value === undefined || value === null) {\n    return \"...\";\n  }\n\n  return formatAmount(\n    value as bigint,\n    tokenDecimals,\n    displayDecimals,\n    useCommas\n  );\n};\n\nexport const formatArrayAmount = (\n  arr: any[],\n  index: number,\n  tokenDecimals: number,\n  displayDecimals?: number,\n  useCommas?: boolean\n) => {\n  if (!arr || arr[index] === undefined || arr[index] === null) {\n    return \"...\";\n  }\n\n  return formatAmount(arr[index], tokenDecimals, displayDecimals, useCommas);\n};\n\nexport const formatAmountFree = (\n  amount: BigNumberish,\n  tokenDecimals: number,\n  displayDecimals?: number\n) => {\n  if (amount === undefined || amount === null) {\n    return \"...\";\n  }\n\n  amount = BigInt(amount);\n\n  let amountStr = formatUnits(amount, tokenDecimals);\n  amountStr = limitDecimals(amountStr, displayDecimals);\n  return trimZeroDecimals(amountStr);\n};\n\nexport function getLimitedDisplay(\n  amount: bigint,\n  tokenDecimals: number,\n  opts: { maxThreshold?: BigNumberish | null; minThreshold?: BigNumberish } = {}\n) {\n  const {\n    maxThreshold = MAX_EXCEEDING_THRESHOLD,\n    minThreshold = MIN_EXCEEDING_THRESHOLD,\n  } = opts;\n  const max =\n    maxThreshold === null\n      ? null\n      : expandDecimals(BigInt(maxThreshold), tokenDecimals);\n  const min = parseUnits(minThreshold.toString(), tokenDecimals);\n  const absAmount = bigMath.abs(amount);\n\n  if (absAmount == 0n) {\n    return {\n      symbol: \"\",\n      value: absAmount,\n    };\n  }\n\n  const symbol =\n    max !== null && absAmount > max\n      ? TRIGGER_PREFIX_ABOVE\n      : absAmount < min\n      ? TRIGGER_PREFIX_BELOW\n      : \"\";\n  const value =\n    max !== null && absAmount > max ? max : absAmount < min ? min : absAmount;\n\n  return {\n    symbol,\n    value,\n  };\n}\n\nexport const limitDecimals = (amount: BigNumberish, maxDecimals?: number) => {\n  let amountStr = amount.toString();\n  if (maxDecimals === undefined) {\n    return amountStr;\n  }\n  if (maxDecimals === 0) {\n    return amountStr.split(\".\")[0];\n  }\n  const dotIndex = amountStr.indexOf(\".\");\n  if (dotIndex !== -1) {\n    let decimals = amountStr.length - dotIndex - 1;\n    if (decimals > maxDecimals) {\n      amountStr = amountStr.substr(\n        0,\n        amountStr.length - (decimals - maxDecimals)\n      );\n    }\n  }\n\n  return amountStr;\n};\n\nexport const padDecimals = (amount: BigNumberish, minDecimals: number) => {\n  let amountStr = amount.toString();\n  const dotIndex = amountStr.indexOf(\".\");\n  if (dotIndex !== -1) {\n    const decimals = amountStr.length - dotIndex - 1;\n    if (decimals < minDecimals) {\n      amountStr = amountStr.padEnd(\n        amountStr.length + (minDecimals - decimals),\n        \"0\"\n      );\n    }\n  } else {\n    amountStr = amountStr + \".\" + \"0\".repeat(minDecimals);\n  }\n  return amountStr;\n};\n\nexport function getPlusOrMinusSymbol(\n  value?: bigint,\n  opts: { showPlusForZero?: boolean } = {}\n): string {\n  if (value === undefined) {\n    return \"\";\n  }\n\n  const { showPlusForZero = false } = opts;\n  return value === 0n ? (showPlusForZero ? \"+\" : \"\") : value < 0n ? \"-\" : \"+\";\n}\n\nexport function roundWithDecimals(\n  value: BigNumberish,\n  opts: { displayDecimals: number; decimals: number }\n): bigint {\n  if (opts.displayDecimals === opts.decimals) {\n    return BigInt(value);\n  }\n\n  let valueString = value.toString();\n  let isNegative = false;\n\n  if (valueString[0] === \"-\") {\n    valueString = valueString.slice(1);\n    isNegative = true;\n  }\n\n  if (valueString.length < opts.decimals) {\n    valueString = valueString.padStart(opts.decimals, \"0\");\n  }\n\n  const mainPart = valueString.slice(\n    0,\n    valueString.length - opts.decimals + opts.displayDecimals\n  );\n  const partToRound = valueString.slice(\n    valueString.length - opts.decimals + opts.displayDecimals\n  );\n\n  let mainPartBigInt = BigInt(mainPart);\n\n  let returnValue = mainPartBigInt;\n\n  if (partToRound.length !== 0) {\n    if (Number(partToRound[0]) >= 5) {\n      mainPartBigInt += 1n;\n    }\n\n    returnValue = BigInt(\n      mainPartBigInt.toString() +\n        new Array(partToRound.length).fill(\"0\").join(\"\")\n    );\n  }\n\n  return isNegative ? returnValue * -1n : returnValue;\n}\n\n// TODO: Remove this function\nexport function toBigNumberWithDecimals(\n  value: string,\n  decimals: number\n): bigint {\n  if (!value) return BN_ZERO;\n\n  const parts = value.split(\".\");\n  const integerPart = parts[0];\n  const decimalPart = parts.length > 1 ? parts[1] : \"\";\n\n  const paddingZeros = decimals - decimalPart.length;\n\n  if (paddingZeros >= 0) {\n    const result = integerPart + decimalPart + \"0\".repeat(paddingZeros);\n    return BigInt(result);\n  } else {\n    const result = integerPart + decimalPart.substring(0, decimals);\n    return BigInt(result);\n  }\n}\n\n/**\n *\n * @deprecated Use BigInt instead\n */\nexport function bigNumberify(n?: BigNumberish | null | undefined) {\n  try {\n    if (n === undefined) throw new Error(\"n is undefined\");\n    if (n === null) throw new Error(\"n is null\");\n\n    return BigInt(n);\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.error(\"bigNumberify error\", e);\n    return undefined;\n  }\n}\n\nexport const parseValue = (value: string, tokenDecimals: number) => {\n  const pValue = parseFloat(value);\n\n  if (isNaN(pValue)) {\n    return undefined;\n  }\n  value = limitDecimals(value, tokenDecimals);\n  const amount = parseUnits(value, tokenDecimals);\n  return bigNumberify(amount);\n};\n\nexport function roundUpDivision(a: bigint, b: bigint) {\n  return (a + b - 1n) / b;\n}\n\nexport function roundToTwoDecimals(n: number) {\n  return Math.round(n * 100) / 100;\n}\n\nexport function roundToOrder(n: bigint, significantDigits = 1) {\n  const decimals = Math.max(n.toString().length - significantDigits, 0);\n  return (n / expandDecimals(1, decimals)) * expandDecimals(1, decimals);\n}\n\nexport function roundBigIntToDecimals(\n  value: bigint,\n  tokenDecimals: number,\n  roundToDecimals: number\n): bigint {\n  const excessDecimals = tokenDecimals - roundToDecimals;\n  const divisor = BigInt(10 ** excessDecimals);\n  const scaledValue = value / divisor;\n  const remainder = scaledValue % 10n;\n  const roundedValue =\n    remainder >= 5n ? scaledValue + 10n - remainder : scaledValue - remainder;\n  return roundedValue * divisor;\n}\n\nexport function minBigNumber(...args: bigint[]) {\n  if (!args.length) return undefined;\n\n  return args.reduce((acc, num) => (num < acc ? num : acc), args[0]);\n}\n\nexport function maxbigint(...args: bigint[]) {\n  if (!args.length) return undefined;\n\n  return args.reduce((acc, num) => (num > acc ? num : acc), args[0]);\n}\n\nexport function removeTrailingZeros(amount: string | number) {\n  const amountWithoutZeros = Number(amount);\n  if (!amountWithoutZeros) return amount;\n  return amountWithoutZeros;\n}\n\ntype SerializedBigIntsInObject<T> = {\n  [P in keyof T]: T[P] extends bigint\n    ? { type: \"bigint\"; value: bigint }\n    : T[P] extends object\n    ? SerializedBigIntsInObject<T[P]>\n    : T[P];\n};\n\ntype DeserializeBigIntInObject<T> = {\n  [P in keyof T]: T[P] extends { type: \"bigint\"; value: bigint }\n    ? bigint\n    : T[P] extends object\n    ? DeserializeBigIntInObject<T[P]>\n    : T[P];\n};\n\nexport function serializeBigIntsInObject<T extends object>(\n  obj: T\n): SerializedBigIntsInObject<T> {\n  const result: any = Array.isArray(obj) ? [] : {};\n  for (const key in obj) {\n    const value = obj[key];\n    if (typeof value === \"bigint\") {\n      result[key] = { type: \"bigint\", value: String(value) };\n    } else if (value && typeof value === \"object\") {\n      result[key] = serializeBigIntsInObject(value);\n    } else {\n      result[key] = value;\n    }\n  }\n  return result;\n}\n\nexport function deserializeBigIntsInObject<T extends object>(\n  obj: T\n): DeserializeBigIntInObject<T> {\n  const result: any = Array.isArray(obj) ? [] : {};\n  for (const key in obj) {\n    const value = obj[key];\n    if (\n      typeof value === \"object\" &&\n      value !== null &&\n      ((\"type\" in value && value.type === \"bigint\") ||\n        (\"_type\" in value && value._type === \"BigNumber\"))\n    ) {\n      if (\"value\" in value && typeof value.value === \"string\") {\n        result[key] = BigInt(value.value);\n      } else if (\"hex\" in value && typeof value.hex === \"string\") {\n        if (value.hex.startsWith(\"-\")) {\n          result[key] = BigInt(value.hex.slice(1)) * -1n;\n        } else {\n          result[key] = BigInt(value.hex);\n        }\n      }\n    } else if (value && typeof value === \"object\") {\n      result[key] = deserializeBigIntsInObject(value);\n    } else {\n      result[key] = value;\n    }\n  }\n  return result;\n}\n\nexport function calculateDisplayDecimals(\n  price?: bigint,\n  decimals = USD_DECIMALS,\n  visualMultiplier = 1,\n  isStable = false\n) {\n  if (price === undefined || price === 0n) return 2;\n  const priceNumber = bigintToNumber(\n    bigMath.abs(price) * BigInt(visualMultiplier),\n    decimals\n  );\n\n  if (isNaN(priceNumber)) return 2;\n  if (isStable) {\n    if (priceNumber >= 0.1) return 2;\n    if (priceNumber >= 0.01) return 3;\n    if (priceNumber >= 0.001) return 4;\n    if (priceNumber >= 0.0001) return 5;\n    if (priceNumber >= 0.00001) return 6;\n    if (priceNumber >= 0.000001) return 7;\n    if (priceNumber >= 0.0000001) return 8;\n    if (priceNumber >= 0.00000001) return 9;\n  } else {\n    if (priceNumber >= 1000) return 2;\n    if (priceNumber >= 100) return 3;\n    if (priceNumber >= 1) return 4;\n    if (priceNumber >= 0.1) return 5;\n    if (priceNumber >= 0.01) return 6;\n    if (priceNumber >= 0.0001) return 7;\n    if (priceNumber >= 0.00001) return 8;\n  }\n\n  return 9;\n}\n\nexport function clamp(value: number, min: number, max: number): number {\n  return Math.max(min, Math.min(value, max));\n}\n\nexport function absDiffBps(value: bigint, base: bigint) {\n  if ((value === 0n && base !== 0n) || (value !== 0n && base === 0n)) {\n    return BASIS_POINTS_DIVISOR_BIGINT;\n  }\n\n  if (value === 0n && base === 0n) {\n    return 0n;\n  }\n\n  return bigMath.mulDiv(\n    bigMath.abs(value - base),\n    BASIS_POINTS_DIVISOR_BIGINT,\n    base\n  );\n}\n"]}