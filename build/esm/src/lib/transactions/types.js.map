{"version":3,"sources":["../../../../../src/lib/transactions/types.ts"],"names":["TaskState","TxnEventName"],"mappings":";AA0CO,IAAK,SAAA,qBAAAA,UAAAA,KAAL;AACL,EAAAA,WAAA,cAAA,CAAA,GAAe,cAAA;AACf,EAAAA,WAAA,aAAA,CAAA,GAAc,aAAA;AACd,EAAAA,WAAA,wBAAA,CAAA,GAAyB,wBAAA;AACzB,EAAAA,WAAA,aAAA,CAAA,GAAc,aAAA;AACd,EAAAA,WAAA,cAAA,CAAA,GAAe,cAAA;AACf,EAAAA,WAAA,WAAA,CAAA,GAAY,WAAA;AANF,EAAA,OAAAA,UAAAA;AAAA,CAAA,EAAA,SAAA,IAAA,EAAA;AASL,IAAK,YAAA,qBAAAC,aAAAA,KAAL;AACL,EAAAA,cAAA,WAAA,CAAA,GAAY,WAAA;AACZ,EAAAA,cAAA,WAAA,CAAA,GAAY,WAAA;AACZ,EAAAA,cAAA,SAAA,CAAA,GAAU,SAAA;AACV,EAAAA,cAAA,MAAA,CAAA,GAAO,MAAA;AACP,EAAAA,cAAA,OAAA,CAAA,GAAQ,OAAA;AALE,EAAA,OAAAA,aAAAA;AAAA,CAAA,EAAA,YAAA,IAAA,EAAA;AAaL,IAAM,kBAAN,MAA+B;AAAA,EACpC,YAAmB,GAAA,EAAc;AAAd,IAAA,IAAA,CAAA,GAAA,GAAA,GAAA;AAAA,EAAe;AAAA,EAElC,MAAA,CAA0C,MAAa,SAAA,EAAkB;AACvE,IAAA,OAAO;AAAA,MACL,KAAA,EAAO,IAAA;AAAA,MACP,IAAA,EAAM;AAAA,QACJ,GAAG,IAAA,CAAK,GAAA;AAAA,QACR,GAAG;AAAA;AACL,KACF;AAAA,EACF;AAAA,EAEA,OAAgB,KAAA,EAA0B;AACxC,IAAA,OAAO;AAAA,MACL,OAAO,KAAA,CAAM,KAAA;AAAA,MACb,IAAA,EAAM;AAAA,QACJ,GAAG,IAAA,CAAK,GAAA;AAAA,QACR,GAAG,KAAA,CAAM;AAAA;AACX,KACF;AAAA,EACF;AAAA,EAEA,MAAM,KAAA,EAAkB;AACtB,IAAA,OAAO,IAAA,CAAK,MAAA,CAAO,OAAA,cAAoB,EAAE,OAAO,CAAA;AAAA,EAClD;AAAA,EAEA,SAAA,GAAY;AACV,IAAA,OAAO,IAAA,CAAK,MAAA,CAAO,WAAA,kBAAwB,EAAE,CAAA;AAAA,EAC/C;AAAA,EAEA,SAAA,GAAY;AACV,IAAA,OAAO,IAAA,CAAK,MAAA,CAAO,WAAA,kBAAwB,EAAE,CAAA;AAAA,EAC/C;AAAA,EAEA,OAAA,GAAU;AACR,IAAA,OAAO,IAAA,CAAK,MAAA,CAAO,SAAA,gBAAsB,EAAE,CAAA;AAAA,EAC7C;AAAA,EAEA,KACE,MAAA,EAGA;AACA,IAAA,OAAO,IAAA,CAAK,MAAA,CAAO,MAAA,aAAmB,MAAM,CAAA;AAAA,EAC9C;AACF","file":"types.js","sourcesContent":["import { ErrorLike } from \"lib/errors\";\n\nexport type TransactionWaiterResult = {\n  relayStatus:\n    | {\n        taskId: string;\n        taskState: TaskState;\n      }\n    | undefined;\n  transactionHash: string | undefined;\n  blockNumber: number | undefined;\n  status: \"success\" | \"failed\";\n};\n\nexport type GelatoTaskStatus = {\n  chainId: number;\n  taskId: string;\n  taskState: TaskState;\n  creationDate: string;\n  lastCheckDate?: string;\n  lastCheckMessage?: string;\n  transactionHash?: string;\n  blockNumber?: number;\n  executionDate?: string;\n  gasUsed?: string;\n  effectiveGasPrice?: string;\n};\n\nexport type TransactionStatusResponse = {\n  chainId: number;\n  taskId: string;\n  taskState: TaskState;\n  creationDate: string;\n  lastCheckDate?: string;\n  lastCheckMessage?: string;\n  transactionHash?: string;\n  blockNumber?: number;\n  executionDate?: string;\n  gasUsed?: string;\n  effectiveGasPrice?: string;\n};\n\nexport enum TaskState {\n  CheckPending = \"CheckPending\",\n  ExecPending = \"ExecPending\",\n  WaitingForConfirmation = \"WaitingForConfirmation\",\n  ExecSuccess = \"ExecSuccess\",\n  ExecReverted = \"ExecReverted\",\n  Cancelled = \"Cancelled\",\n}\n\nexport enum TxnEventName {\n  Submitted = \"Submitted\",\n  Simulated = \"Simulated\",\n  Sending = \"Sending\",\n  Sent = \"Sent\",\n  Error = \"Error\",\n}\n\nexport type TxnCallback<TParams> = (event: TxnEvent<TParams>) => void;\nexport type TxnEvent<TParams> = ReturnType<\n  TxnEventBuilder<TParams>[TxnEventName]\n>;\n\nexport class TxnEventBuilder<TParams> {\n  constructor(public ctx: TParams) {}\n\n  _build<TName extends TxnEventName, TData>(name: TName, eventData: TData) {\n    return {\n      event: name,\n      data: {\n        ...this.ctx,\n        ...eventData,\n      },\n    };\n  }\n\n  extend<TExtend>(event: TxnEvent<TExtend>) {\n    return {\n      event: event.event,\n      data: {\n        ...this.ctx,\n        ...event.data,\n      },\n    } as TxnEvent<TExtend & TParams>;\n  }\n\n  Error(error: ErrorLike) {\n    return this._build(TxnEventName.Error, { error });\n  }\n\n  Submitted() {\n    return this._build(TxnEventName.Submitted, {});\n  }\n\n  Simulated() {\n    return this._build(TxnEventName.Simulated, {});\n  }\n\n  Sending() {\n    return this._build(TxnEventName.Sending, {});\n  }\n\n  Sent(\n    params:\n      | { type: \"wallet\"; transactionHash: string }\n      | { type: \"relay\"; relayTaskId: string }\n  ) {\n    return this._build(TxnEventName.Sent, params);\n  }\n}\n"]}